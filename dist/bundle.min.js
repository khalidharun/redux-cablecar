!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ReduxCableCar=n():e.ReduxCableCar=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=3)}([function(e,n){function t(e,n){return{type:"CABLE_CONNECT",cable:{ActionCable:e,url:n}}}function r(){return{type:"CABLE_DISCONNECT",cable:{}}}function c(e,n){return{type:"CABLE_SUBSCRIBE",cable:{channel:e,params:n}}}function a(e,n){return{type:"CABLE_UNSUBSCRIBE",cable:{channel:e,params:n}}}function u(e,n,t){return{type:"CABLE_SEND",cable:{channel:e,params:n},payload:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.connect=t,n.disconnect=r,n.subscribe=c,n.unsubscribe=a,n.send=u},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),c=function(e){return e&&e.__esModule?e:{default:e}}(r),a=void 0,u=function(e){return function(n){return function(t){switch(t.type){case"CABLE_CONNECT":var r=t.cable,u=r.ActionCable,i=r.url;new c.default(u,i,e);break;case"CABLE_SUBSCRIBE":a.subscribe(t.cable.channel,t.cable.params);break;case"CABLE_UNSUBSCRIBE":a.unsubscribe(t.cable.channel,t.cable.params);break;case"CABLE_DISCONNECT":a.disconnect(),a=null;break;case"CABLE_SEND":a.send(t.cable.channel,t.cable.params,t.payload)}var o=n(t);switch(t.type){case"CABLE_CONNECTED":a=t.cable.car}return o}}};u.connect=function(e,n){return new c.default(e,n)},n.default=u},function(e,n){function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(n,r,c){t(this,e),this.store=c,this.consumer=n.createConsumer(r),this.store.dispatch({type:"CABLE_CONNECTED",cable:{car:this}})}return c(e,[{key:"dispatch",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={type:"CABLE_"+e,cable:n,payload:t};this.store.dispatch(r)}},{key:"subscribe",value:function(e,n){var t=this,c=r({channel:e},n),a=e.toUpperCase();this.subscription=this.consumer.subscriptions.create(c,{initialized:function(){return t.dispatch(a+"_INITIALIZED",c)},connected:function(){return t.dispatch(a+"_CONNECTED",c)},disconnected:function(){return t.dispatch(a+"_DISCONNECTED",c)},received:function(e){return t.dispatch(a+"_RECEIVED",c,e)},rejected:function(){throw t.dispatch(a+"_REJECTED",c),new Error("ActionCable: Attempt to subscribe was rejected. ("+JSON.stringify(c)+")")}})}},{key:"send",value:function(e,n,t){var c=r({channel:e},n),a=JSON.stringify(c);this.consumer.subscriptions.findAll(a).map(function(e){return e.send(t)})}},{key:"unsubscribe",value:function(e,n){var t=r({channel:e},n),c=JSON.stringify(t);this.consumer.subscriptions.findAll(c).map(function(e){return e.unsubscribe()})}},{key:"disconnect",value:function(){this.consumer.disconnect(),this.store.dispatch({type:"CABLE_DISCONNECTED"})}}]),e}();n.default=a},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.middleware=n.actions=void 0;var r=t(0),c=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(r),a=t(1),u=function(e){return e&&e.__esModule?e:{default:e}}(a);n.actions=c,n.middleware=u.default,n.default={actions:c,middleware:u.default}}])});
//# sourceMappingURL=bundle.min.js.map